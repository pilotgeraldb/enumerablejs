(()=>{var t={};function e(t){this.collection=t||[]}e.fn=e.prototype,e.fn.toString=function(){let t="";for(let e=0;e<this.collection.length;e++)t+=""+this.collection[e];return t},e.Range=function(t,e){let n=[];for(let l=0;l<e;l++)n[l]=t+l;return n.asEnumerable()},t=e,Array.prototype.asEnumerable=function(){return new t(this)},Object.prototype.getType=function(){let t=Object.prototype.toString.call(this);return"[object Date]"===t?"date":"[object String]"===t?"string":"[object Number]"===t?"number":"[object Boolean]"===t?"boolean":"[object Array]"===t?"array":"[object Object]"===t?"object":"function"==typeof this?"function":t},Object.prototype.isEqual=function(t,e){let n,l,o=Object.keys(this),i=Object.keys(t);if(o.length!==i.length)return!1;for(e||(o.sort(),i.sort()),n=0;n<o.length;n++)if(o[n]!==i[n])return!1;for(n=0;n<o.length;n++)if(l=o[n],this[l]!==t[l])return!1;return!0},t.fn.toArray=function(){return this.collection},t.fn.any=function(t){let e=null!=t,n=e&&"function"==typeof t;if(!e&&null!=this&&this.collection.length>0)return!0;for(let l=0;l<this.collection.length;l++){let o=this.collection[l];if(null!=o&&(e&&n&&t(l,o,this.collection)))return!0}return!1},t.fn.count=function(t){if(null!=t&&"function"==typeof t){let e=[];for(let n=0;n<this.collection.length;n++){let l=this.collection[n];t(n,l,this.collection)&&e.push(l)}return e.length}return this.collection.length},t.fn.first=function(){if(this.collection.length>0)return this.collection[0];throw new Error("sequence contains no elements")},t.fn.firstOrDefault=function(t){return this.collection.length>0?this.collection[0]:null!=t?"function"==typeof t?t():t:null},t.fn.dropFirst=function(e){return e<=0?new t(this.collection):this.collection.length>e?new t(this.collection.splice(this.collection.length-e,e)):new t},t.fn.dropLast=function(e){return e<=0?new t(this.collection):this.collection.length>e?new t(this.collection.splice(0,this.collection.length-e)):new t},t.fn.last=function(){if(this.collection.length>0)return this.collection[this.collection.length-1];throw new Error("sequence contains no elements")},t.fn.lastOrDefault=function(t){let e=null!=t,n=e&&"function"==typeof t;return this.collection.length>0?this.collection[this.collection.length-1]:e?n?t():t:null},t.fn.shuffle=function(){let e,n,l=this.collection.length;for(;0!==l;)n=Math.floor(Math.random()*l),l-=1,e=this.collection[l],this.collection[l]=this.collection[n],this.collection[n]=e;return new t(this.collection)},t.fn.except=function(e,n){if(this.collection.length<=0)return new t(this.collection);let l=[];for(let t=0;t<this.collection.length;t++){let o=this.collection[t],i=!1;for(let t=0;t<e.length;t++){let l=e[t];if(n&&"function"===n.getType()){if(!0===n(o,l)){i=!0;break}}else if("object"===l.getType()&&"object"===o.getType()){if(l.isEqual(o)){i=!0;break}}else if(l===o){i=!0;break}}!1===i&&l.push(o)}return l.asEnumerable()},t.fn.maximum=function(){let t=null;let e=[];for(let t=0;t<this.collection.length;t++)null!==(n=this.collection[t])&&"number"===n.getType()&&n%1==0&&e.push(this.collection[t]);var n;return e.length>0&&(t=Math.max.apply(null,e)),t},t.fn.minimum=function(){let t=null;let e=[];for(let t=0;t<this.collection.length;t++)null!==(n=this.collection[t])&&"number"===n.getType()&&n%1==0&&e.push(this.collection[t]);var n;return e.length>0&&(t=Math.min.apply(null,e)),t},t.fn.orderBy=function(e,n){if(!this.collection)return null;if("[object Array]"!==Object.prototype.toString.call(this.collection))return null;if(0===this.collection.length)return new t([]);let l=n&&"function"==typeof n,o=null!=e,i=[],c=this.collection,r=o?c[0][e].getType():c[0].getType();if(l){c=[];for(let t=0;t<this.collection.length;t++){let e=n(this.collection[t]);e&&c.push(e)}}return"string"===r?i=c.sort((function(t,n){let l=o?t[e].toUpperCase():t.toUpperCase(),i=o?n[e].toUpperCase():n.toUpperCase();return l<i?-1:l>i?1:0})):"number"===r?i=c.sort((function(t,n){return o?t[e]-n[e]:t-n})):"date"===r?i=c.sort((function(t,n){return o?new Date(t[e])-new Date(n[e]):new Date(t)-new Date(n)})):"boolean"===r?i=c.sort((function(t,e){return t===e?0:t?1:-1})):("array"===r||"object"===r)&&(i=this.collection),i.asEnumerable()},t.fn.orderByDescending=function(e,n){if(!this.collection)return null;if("[object Array]"!==Object.prototype.toString.call(this.collection))return null;if(0===this.collection.length)return new t([]);let l=n&&"function"==typeof n,o=null!=e,i=[],c=this.collection,r=o?c[0][e].getType():c[0].getType();if(l){c=[];for(let t=0;t<this.collection.length;t++){let e=n(this.collection[t]);e&&c.push(e)}}return"string"===r?i=c.sort((function(t,n){let l=o?t[e].toUpperCase():t.toUpperCase(),i=o?n[e].toUpperCase():n.toUpperCase();return l<i?1:l>i?-1:0})):"number"===r?i=c.sort((function(t,n){return o?n[e]-t[e]:n-t})):"date"===r?i=c.sort((function(t,n){return o?new Date(n[e])-new Date(t[e]):new Date(n)-new Date(t)})):"boolean"===r?i=c.sort((function(t,e){return t===e?0:t?-1:1})):("array"===r||"object"===r)&&(i=this.collection),i.asEnumerable()},t.fn.select=function(t){let e=[];function n(t,n){let l={};if(1===n.length){for(let e in t)if(e===n[0]){l=t[e];break}}else for(let e=0;e<n.length;e++){let o=n[e];for(let e in t)e===o&&(l[o]=t[e])}e.push(l)}function l(t,n,l,o){e.push(t(n,l,o))}for(let o=0;o<this.collection.length;o++){let i=this.collection[o];null!=t&&t.length>0?"function"===t.getType()?l(t,o,i,this.collection):n(i,t):e.push(i)}return e.asEnumerable()},t.fn.single=function(){if(1===this.collection.length)return this.collection[0];throw this.collection.length<1?new Error("sequence contains no elements"):new Error("collection contains more than one item")},t.fn.singleOrDefault=function(t){let e=null!=t,n=e&&"function"==typeof t;if(1===this.collection.length)return this.collection[0];if(this.length>1)throw new Error("collection contains more than one item");return e?n?t():t:null},t.fn.skip=function(t){let e=[],n=t>0,l=t<this.collection.length;if(!(n&&l))return this;for(let n=0;n<this.collection.length;n++)n<t||e.push(this.collection[n]);return e.asEnumerable()},t.fn.skipWhile=function(t){let e=null!=t,n=e&&"function"==typeof t,l=e&&n,o=this.collection.length>0;if(!e||!n)return this;if(l&&o){let e=this.collection.length;for(let n=0;n<this.collection.length;n++){if(!0!==t(n,this.collection[n],this.collection))return this.collection.slice(n,e).asEnumerable()}}return[].asEnumerable()},t.fn.take=function(t){if(0===this.collection.length)return this;if(this.collection.length>t){let e=[];for(let n=0;n<t;n++)e.push(this.collection[n]);return e.asEnumerable()}return this},t.fn.takeWhile=function(t){let e=[];if(!(null!=t&&"function"==typeof t))return this;for(let n=0;n<this.collection.length;n++){let l=this.collection[n];if(!0!==t(n,l,this.collection))break;e.push(l)}return e.asEnumerable()},t.fn.where=function(t){let e=[],n=null!=t,l=n&&"function"==typeof t;for(let o=0;o<this.collection.length;o++){let i=this.collection[o];n&&l&&t(o,i,this.collection)&&e.push(i)}return e.asEnumerable()}})();
//# sourceMappingURL=enumerable.js.map

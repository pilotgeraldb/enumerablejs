(()=>{var t={};function n(t){this.collection=t||[]}n.fn=n.prototype,n.fn.toString=function(){for(var t="",n=0;n<this.collection.length;n++)t+=""+this.collection[n];return t},n.Range=function(t,n){for(var e=[],o=0;o<n;o++)e[o]=t+o;return e.asEnumerable()},t=n,Array.prototype.asEnumerable=function(){return new t(this)},Object.prototype.getType=function(){var t=Object.prototype.toString.call(this);return"[object Date]"===t?"date":"[object String]"===t?"string":"[object Number]"===t?"number":"[object Boolean]"===t?"boolean":"[object Array]"===t?"array":"[object Object]"===t?"object":"function"==typeof this?"function":t},Object.prototype.isEqual=function(t,n){var e,o,l=Object.keys(this),i=Object.keys(t);if(l.length!==i.length)return!1;for(n||(l.sort(),i.sort()),e=0;e<l.length;e++)if(l[e]!==i[e])return!1;for(e=0;e<l.length;e++)if(this[o=l[e]]!==t[o])return!1;return!0},t.fn.toArray=function(){return this.collection},t.fn.any=function(t){var n=null!=t,e=n&&"function"==typeof t;if(!n&&null!=this&&this.collection.length>0)return!0;for(var o=0;o<this.collection.length;o++){var l=this.collection[o];if(null!=l&&(n&&e&&t(o,l,this.collection)))return!0}return!1},t.fn.count=function(t){if(null!=t&&"function"==typeof t){for(var n=[],e=0;e<this.collection.length;e++){var o=this.collection[e];t(e,o,this.collection)&&n.push(o)}return n.length}return this.collection.length},t.fn.first=function(){if(this.collection.length>0)return this.collection[0];throw new Error("sequence contains no elements")},t.fn.firstOrDefault=function(t){return this.collection.length>0?this.collection[0]:null!=t?"function"==typeof t?t():t:null},t.fn.dropFirst=function(n){return n<=0?new t(this.collection):this.collection.length>n?new t(this.collection.splice(this.collection.length-n,n)):new t},t.fn.dropLast=function(n){return n<=0?new t(this.collection):this.collection.length>n?new t(this.collection.splice(0,this.collection.length-n)):new t},t.fn.last=function(){if(this.collection.length>0)return this.collection[this.collection.length-1];throw new Error("sequence contains no elements")},t.fn.lastOrDefault=function(t){var n=null!=t,e=n&&"function"==typeof t;return this.collection.length>0?this.collection[this.collection.length-1]:n?e?t():t:null},t.fn.shuffle=function(){for(var n,e,o=this.collection.length;0!==o;)e=Math.floor(Math.random()*o),o-=1,n=this.collection[o],this.collection[o]=this.collection[e],this.collection[e]=n;return new t(this.collection)},t.fn.except=function(n,e){if(this.collection.length<=0)return new t(this.collection);for(var o=[],l=0;l<this.collection.length;l++){for(var i=this.collection[l],r=!1,c=0;c<n.length;c++){var s=n[c];if(e&&"function"===e.getType()){if(!0===e(i,s)){r=!0;break}}else if("object"===s.getType()&&"object"===i.getType()){if(s.isEqual(i)){r=!0;break}}else if(s===i){r=!0;break}}!1===r&&o.push(i)}return o.asEnumerable()},t.fn.maximum=function(){var t=null;for(var n,e=[],o=0;o<this.collection.length;o++)null!==(n=this.collection[o])&&"number"===n.getType()&&n%1==0&&e.push(this.collection[o]);return e.length>0&&(t=Math.max.apply(null,e)),t},t.fn.minimum=function(){var t=null;for(var n,e=[],o=0;o<this.collection.length;o++)null!==(n=this.collection[o])&&"number"===n.getType()&&n%1==0&&e.push(this.collection[o]);return e.length>0&&(t=Math.min.apply(null,e)),t},t.fn.orderBy=function(n,e){if(!this.collection)return null;if("[object Array]"!==Object.prototype.toString.call(this.collection))return null;if(0===this.collection.length)return new t([]);var o=e&&"function"==typeof e,l=null!=n,i=[],r=this.collection,c=l?r[0][n].getType():r[0].getType();if(o){r=[];for(var s=0;s<this.collection.length;s++){var u=e(this.collection[s]);u&&r.push(u)}}return"string"===c?i=r.sort((function(t,e){var o=l?t[n].toUpperCase():t.toUpperCase(),i=l?e[n].toUpperCase():e.toUpperCase();return o<i?-1:o>i?1:0})):"number"===c?i=r.sort((function(t,e){return l?t[n]-e[n]:t-e})):"date"===c?i=r.sort((function(t,e){return l?new Date(t[n])-new Date(e[n]):new Date(t)-new Date(e)})):"boolean"===c?i=r.sort((function(t,n){return t===n?0:t?1:-1})):("array"===c||"object"===c)&&(i=this.collection),i.asEnumerable()},t.fn.orderByDescending=function(n,e){if(!this.collection)return null;if("[object Array]"!==Object.prototype.toString.call(this.collection))return null;if(0===this.collection.length)return new t([]);var o=e&&"function"==typeof e,l=null!=n,i=[],r=this.collection,c=l?r[0][n].getType():r[0].getType();if(o){r=[];for(var s=0;s<this.collection.length;s++){var u=e(this.collection[s]);u&&r.push(u)}}return"string"===c?i=r.sort((function(t,e){var o=l?t[n].toUpperCase():t.toUpperCase(),i=l?e[n].toUpperCase():e.toUpperCase();return o<i?1:o>i?-1:0})):"number"===c?i=r.sort((function(t,e){return l?e[n]-t[n]:e-t})):"date"===c?i=r.sort((function(t,e){return l?new Date(e[n])-new Date(t[n]):new Date(e)-new Date(t)})):"boolean"===c?i=r.sort((function(t,n){return t===n?0:t?-1:1})):("array"===c||"object"===c)&&(i=this.collection),i.asEnumerable()},t.fn.select=function(t){var n,e,o,l,i=[];function r(t,n){var e={};if(1===n.length){for(var o in t)if(o===n[0]){e=t[o];break}}else for(var l=0;l<n.length;l++){var r=n[l];for(var c in t)c===r&&(e[r]=t[c])}i.push(e)}for(var c=0;c<this.collection.length;c++){var s=this.collection[c];null!=t&&t.length>0?"function"===t.getType()?(n=t,e=c,o=s,l=this.collection,i.push(n(e,o,l))):r(s,t):i.push(s)}return i.asEnumerable()},t.fn.single=function(){if(1===this.collection.length)return this.collection[0];throw this.collection.length<1?new Error("sequence contains no elements"):new Error("collection contains more than one item")},t.fn.singleOrDefault=function(t){var n=null!=t,e=n&&"function"==typeof t;if(1===this.collection.length)return this.collection[0];if(this.length>1)throw new Error("collection contains more than one item");return n?e?t():t:null},t.fn.skip=function(t){var n=[],e=t>0,o=t<this.collection.length;if(!(e&&o))return this;for(var l=0;l<this.collection.length;l++)l<t||n.push(this.collection[l]);return n.asEnumerable()},t.fn.skipWhile=function(t){var n=null!=t,e=n&&"function"==typeof t,o=n&&e,l=this.collection.length>0;if(!n||!e)return this;if(o&&l)for(var i=this.collection.length,r=0;r<this.collection.length;r++){if(!0!==t(r,this.collection[r],this.collection))return this.collection.slice(r,i).asEnumerable()}return[].asEnumerable()},t.fn.take=function(t){if(0===this.collection.length)return this;if(this.collection.length>t){for(var n=[],e=0;e<t;e++)n.push(this.collection[e]);return n.asEnumerable()}return this},t.fn.takeWhile=function(t){var n=[];if(!(null!=t&&"function"==typeof t))return this;for(var e=0;e<this.collection.length;e++){var o=this.collection[e];if(!0!==t(e,o,this.collection))break;n.push(o)}return n.asEnumerable()},t.fn.where=function(t){for(var n=[],e=null!=t,o=e&&"function"==typeof t,l=0;l<this.collection.length;l++){var i=this.collection[l];e&&o&&t(l,i,this.collection)&&n.push(i)}return n.asEnumerable()}})();
//# sourceMappingURL=enumerable.js.map

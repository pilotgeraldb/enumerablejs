!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("enumerable",[],n):"object"==typeof exports?exports.enumerable=n():t.enumerable=n()}("undefined"!=typeof self?self:this,function(){return function(t){var n={};function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(o,i,function(n){return t[n]}.bind(null,i));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){function o(t){this.collection=t||[]}o.fn=o.prototype,o.fn.toString=function(){for(var t="",n=0;n<this.collection.length;n++)t+=""+this.collection[n];return t},o.Range=function(t,n){for(var e=[],o=0;o<n;o++)e[o]=t+o;return e.asEnumerable()},t.exports=o,e(1)},function(t,n,e){e(2),e(3),e(4),e(5),e(6),e(7),e(8),e(9),e(10),e(11),e(12),e(13),e(14),e(15),e(16),e(17),e(18),e(19),e(20),e(21),e(22),e(23),e(24),e(25),e(26)},function(t,n,e){var o=e(0);Array.prototype.asEnumerable=function(){return new o(this)}},function(t,n){Object.prototype.getType=function(){var t=Object.prototype.toString.call(this);return"[object Date]"===t?"date":"[object String]"===t?"string":"[object Number]"===t?"number":"[object Boolean]"===t?"boolean":"[object Array]"===t?"array":"[object Object]"===t?"object":"function"==typeof this?"function":t},Object.prototype.isEqual=function(t,n){var e,o,i=Object.keys(this),l=Object.keys(t);if(i.length!==l.length)return!1;for(n||(i.sort(),l.sort()),e=0;e<i.length;e++)if(i[e]!==l[e])return!1;for(e=0;e<i.length;e++)if(this[o=i[e]]!==t[o])return!1;return!0}},function(t,n,e){e(0).fn.toArray=function(){return this.collection}},function(t,n,e){e(0).fn.any=function(t){var n=null!=t,e=n&&"function"==typeof t;if(!n&&null!=this&&this.collection.length>0)return!0;for(var o=0;o<this.collection.length;o++){var i=this.collection[o];if(null!=i&&(n&&e&&t(o,i,this.collection)))return!0}return!1}},function(t,n,e){e(0).fn.count=function(t){if(null!=t&&"function"==typeof t){for(var n=[],e=0;e<this.collection.length;e++){var o=this.collection[e];t(e,o,this.collection)&&n.push(o)}return n.length}return this.collection.length}},function(t,n,e){e(0).fn.first=function(){if(this.collection.length>0)return this.collection[0];throw new Error("sequence contains no elements")}},function(t,n,e){e(0).fn.firstOrDefault=function(t){return this.collection.length>0?this.collection[0]:null!=t?"function"==typeof t?t():t:null}},function(t,n,e){var o=e(0);o.fn.dropFirst=function(t){return t<=0?new o(this.collection):this.collection.length>t?new o(this.collection.splice(this.collection.length-t,t)):new o}},function(t,n,e){var o=e(0);o.fn.dropLast=function(t){return t<=0?new o(this.collection):this.collection.length>t?new o(this.collection.splice(0,this.collection.length-t)):new o}},function(t,n,e){e(0).fn.last=function(){if(this.collection.length>0)return this.collection[this.collection.length-1];throw new Error("sequence contains no elements")}},function(t,n,e){e(0).fn.lastOrDefault=function(t){var n=null!=t,e=n&&"function"==typeof t;return this.collection.length>0?this.collection[this.collection.length-1]:n?e?t():t:null}},function(t,n,e){var o=e(0);o.fn.shuffle=function(){for(var t,n,e=this.collection.length;0!==e;)n=Math.floor(Math.random()*e),e-=1,t=this.collection[e],this.collection[e]=this.collection[n],this.collection[n]=t;return new o(this.collection)}},function(t,n,e){var o=e(0);o.fn.except=function(t,n){if(this.collection.length<=0)return new o(this.collection);for(var e=[],i=0;i<this.collection.length;i++){for(var l=this.collection[i],r=!1,c=0;c<t.length;c++){var u=t[c];if(n&&"function"===n.getType()){if(!0===n(l,u)){r=!0;break}}else if("object"===u.getType()&&"object"===l.getType()){if(u.isEqual(l)){r=!0;break}}else if(u===l){r=!0;break}}!1===r&&e.push(l)}return e.asEnumerable()}},function(t,n,e){e(0).fn.maximum=function(){var t=null;for(var n,e=[],o=0;o<this.collection.length;o++)null!==(n=this.collection[o])&&"number"===n.getType()&&n%1==0&&e.push(this.collection[o]);return e.length>0&&(t=Math.max.apply(null,e)),t}},function(t,n,e){e(0).fn.minimum=function(){var t=null;for(var n,e=[],o=0;o<this.collection.length;o++)null!==(n=this.collection[o])&&"number"===n.getType()&&n%1==0&&e.push(this.collection[o]);return e.length>0&&(t=Math.min.apply(null,e)),t}},function(t,n,e){var o=e(0);o.fn.orderBy=function(t,n){if(!this.collection)return null;if("[object Array]"!==Object.prototype.toString.call(this.collection))return null;if(0===this.collection.length)return new o([]);var e=n&&"function"==typeof n,i=null!=t,l=[],r=this.collection,c=i?r[0][t].getType():r[0].getType();if(e){r=[];for(var u=0;u<this.collection.length;u++){var f=n(this.collection[u]);f&&r.push(f)}}return"string"===c?l=r.sort(function(n,e){var o=i?n[t].toUpperCase():n.toUpperCase(),l=i?e[t].toUpperCase():e.toUpperCase();return o<l?-1:o>l?1:0}):"number"===c?l=r.sort(function(n,e){return i?n[t]-e[t]:n-e}):"date"===c?l=r.sort(function(n,e){return i?new Date(n[t])-new Date(e[t]):new Date(n)-new Date(e)}):"boolean"===c?l=r.sort(function(t,n){return t===n?0:t?1:-1}):"array"===c?l=this.collection:"object"===c&&(l=this.collection),l.asEnumerable()}},function(t,n,e){var o=e(0);o.fn.orderByDescending=function(t,n){if(!this.collection)return null;if("[object Array]"!==Object.prototype.toString.call(this.collection))return null;if(0===this.collection.length)return new o([]);var e=n&&"function"==typeof n,i=null!=t,l=[],r=this.collection,c=i?r[0][t].getType():r[0].getType();if(e){r=[];for(var u=0;u<this.collection.length;u++){var f=n(this.collection[u]);f&&r.push(f)}}return"string"===c?l=r.sort(function(n,e){var o=i?n[t].toUpperCase():n.toUpperCase(),l=i?e[t].toUpperCase():e.toUpperCase();return o<l?1:o>l?-1:0}):"number"===c?l=r.sort(function(n,e){return i?e[t]-n[t]:e-n}):"date"===c?l=r.sort(function(n,e){return i?new Date(e[t])-new Date(n[t]):new Date(e)-new Date(n)}):"boolean"===c?l=r.sort(function(t,n){return t===n?0:t?-1:1}):"array"===c?l=this.collection:"object"===c&&(l=this.collection),l.asEnumerable()}},function(t,n,e){e(0).fn.select=function(t){var n=[];function e(t,e){var o={};if(1===e.length){for(var i in t)if(i===e[0]){o=t[i];break}}else for(var l=0;l<e.length;l++){var r=e[l];for(var c in t)c===r&&(o[r]=t[c])}n.push(o)}function o(t,e,o,i){n.push(t(e,o,i))}for(var i=0;i<this.collection.length;i++){var l=this.collection[i];null!=t&&t.length>0?"function"===t.getType()?o(t,i,l,this.collection):e(l,t):n.push(l)}return n.asEnumerable()}},function(t,n,e){e(0).fn.single=function(){if(1===this.collection.length)return this.collection[0];throw this.collection.length<1?new Error("sequence contains no elements"):new Error("collection contains more than one item")}},function(t,n,e){e(0).fn.singleOrDefault=function(t){var n=null!=t,e=n&&"function"==typeof t;if(1===this.collection.length)return this.collection[0];if(this.length>1)throw new Error("collection contains more than one item");return n?e?t():t:null}},function(t,n,e){e(0).fn.skip=function(t){var n=[],e=t>0,o=t<this.collection.length;if(!(e&&o))return this;for(var i=0;i<this.collection.length;i++)i<t||n.push(this.collection[i]);return n.asEnumerable()}},function(t,n,e){e(0).fn.skipWhile=function(t){var n=null!=t,e=n&&"function"==typeof t,o=n&&e,i=this.collection.length>0;if(!n||!e)return this;if(o&&i)for(var l=this.collection.length,r=0;r<this.collection.length;r++){if(!0!==t(r,this.collection[r],this.collection))return this.collection.slice(r,l).asEnumerable()}return[].asEnumerable()}},function(t,n,e){e(0).fn.take=function(t){if(0===this.collection.length)return this;if(this.collection.length>t){for(var n=[],e=0;e<t;e++)n.push(this.collection[e]);return n.asEnumerable()}return this}},function(t,n,e){e(0).fn.takeWhile=function(t){var n=[];if(!(null!=t&&"function"==typeof t))return this;for(var e=0;e<this.collection.length;e++){var o=this.collection[e];if(!0!==t(e,o,this.collection))break;n.push(o)}return n.asEnumerable()}},function(t,n,e){e(0).fn.where=function(t){for(var n=[],e=null!=t,o=e&&"function"==typeof t,i=0;i<this.collection.length;i++){var l=this.collection[i];e&&o&&t(i,l,this.collection)&&n.push(l)}return n.asEnumerable()}}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lbnVtZXJhYmxlL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9lbnVtZXJhYmxlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2VudW1lcmFibGUvLi9zcmMvZW51bWVyYWJsZS5qcyIsIndlYnBhY2s6Ly9lbnVtZXJhYmxlLy4vc3JjL2RlcGVuZGVuY2llcy5qcyIsIndlYnBhY2s6Ly9lbnVtZXJhYmxlLy4vc3JjL2V4dGVuc2lvbnMvYXJyYXkuanMiLCJ3ZWJwYWNrOi8vZW51bWVyYWJsZS8uL3NyYy9leHRlbnNpb25zL29iamVjdC5qcyIsIndlYnBhY2s6Ly9lbnVtZXJhYmxlLy4vc3JjL2NvcmUvdG9BcnJheS5qcyIsIndlYnBhY2s6Ly9lbnVtZXJhYmxlLy4vc3JjL2NvcmUvYW55LmpzIiwid2VicGFjazovL2VudW1lcmFibGUvLi9zcmMvY29yZS9jb3VudC5qcyIsIndlYnBhY2s6Ly9lbnVtZXJhYmxlLy4vc3JjL2NvcmUvZmlyc3QuanMiLCJ3ZWJwYWNrOi8vZW51bWVyYWJsZS8uL3NyYy9jb3JlL2ZpcnN0T3JEZWZhdWx0LmpzIiwid2VicGFjazovL2VudW1lcmFibGUvLi9zcmMvY29yZS9kcm9wRmlyc3QuanMiLCJ3ZWJwYWNrOi8vZW51bWVyYWJsZS8uL3NyYy9jb3JlL2Ryb3BMYXN0LmpzIiwid2VicGFjazovL2VudW1lcmFibGUvLi9zcmMvY29yZS9sYXN0LmpzIiwid2VicGFjazovL2VudW1lcmFibGUvLi9zcmMvY29yZS9sYXN0T3JEZWZhdWx0LmpzIiwid2VicGFjazovL2VudW1lcmFibGUvLi9zcmMvY29yZS9zaHVmZmxlLmpzIiwid2VicGFjazovL2VudW1lcmFibGUvLi9zcmMvY29yZS9leGNlcHQuanMiLCJ3ZWJwYWNrOi8vZW51bWVyYWJsZS8uL3NyYy9jb3JlL21heGltdW0uanMiLCJ3ZWJwYWNrOi8vZW51bWVyYWJsZS8uL3NyYy9jb3JlL21pbmltdW0uanMiLCJ3ZWJwYWNrOi8vZW51bWVyYWJsZS8uL3NyYy9jb3JlL29yZGVyQnkuanMiLCJ3ZWJwYWNrOi8vZW51bWVyYWJsZS8uL3NyYy9jb3JlL29yZGVyQnlEZXNjZW5kaW5nLmpzIiwid2VicGFjazovL2VudW1lcmFibGUvLi9zcmMvY29yZS9zZWxlY3QuanMiLCJ3ZWJwYWNrOi8vZW51bWVyYWJsZS8uL3NyYy9jb3JlL3NpbmdsZS5qcyIsIndlYnBhY2s6Ly9lbnVtZXJhYmxlLy4vc3JjL2NvcmUvc2luZ2xlT3JEZWZhdWx0LmpzIiwid2VicGFjazovL2VudW1lcmFibGUvLi9zcmMvY29yZS9za2lwLmpzIiwid2VicGFjazovL2VudW1lcmFibGUvLi9zcmMvY29yZS9za2lwV2hpbGUuanMiLCJ3ZWJwYWNrOi8vZW51bWVyYWJsZS8uL3NyYy9jb3JlL3Rha2UuanMiLCJ3ZWJwYWNrOi8vZW51bWVyYWJsZS8uL3NyYy9jb3JlL3Rha2VXaGlsZS5qcyIsIndlYnBhY2s6Ly9lbnVtZXJhYmxlLy4vc3JjL2NvcmUvd2hlcmUuanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsInRoaXMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiRW51bWVyYWJsZSIsIl9hcnJheSIsImNvbGxlY3Rpb24iLCJmbiIsInRvU3RyaW5nIiwicmVzdWx0IiwibGVuZ3RoIiwiUmFuZ2UiLCJzdGFydCIsImNvdW50IiwiYXNFbnVtZXJhYmxlIiwicmVxdWlyZSIsIkFycmF5IiwiZ2V0VHlwZSIsInR5cGVTdHJpbmciLCJpc0VxdWFsIiwib2JqZWN0MiIsIm9yZGVyX21hdHRlcnMiLCJrZXlzMSIsImtleXMiLCJrZXlzMiIsInNvcnQiLCJ0b0FycmF5IiwiYW55IiwiaGFzRm4iLCJGbklzRnVuY3Rpb24iLCJpdGVtIiwicmVzdWx0cyIsInB1c2giLCJmaXJzdCIsIkVycm9yIiwiZmlyc3RPckRlZmF1bHQiLCJkcm9wRmlyc3QiLCJzcGxpY2UiLCJkcm9wTGFzdCIsImxhc3QiLCJsYXN0T3JEZWZhdWx0Iiwic2h1ZmZsZSIsInRlbXBvcmFyeVZhbHVlIiwicmFuZG9tSW5kZXgiLCJjdXJyZW50SW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJleGNlcHQiLCJhcnIiLCJjb250YWlucyIsIngiLCJpdGVtMiIsIm1heGltdW0iLCJ0ZW1wIiwibWF4IiwiYXBwbHkiLCJtaW5pbXVtIiwibWluIiwib3JkZXJCeSIsImhhc1Byb3BlcnR5IiwidGVtcEFyciIsIml0ZW1UeXBlIiwidiIsImEiLCJiIiwicHJvcEFfVmFsdWUiLCJ0b1VwcGVyQ2FzZSIsInByb3BCX1ZhbHVlIiwiRGF0ZSIsInkiLCJvcmRlckJ5RGVzY2VuZGluZyIsInNlbGVjdCIsIm9iaiIsImV4cGxpY2l0IiwiX3RlbXAiLCJwcm9wIiwiX3AiLCJmdW5jRXZhbCIsImNvbCIsInNpbmdsZSIsInNpbmdsZU9yRGVmYXVsdCIsInNraXAiLCJoYXNJdGVtcyIsInZhbGlkU2tpcENvdW50Iiwic2tpcFdoaWxlIiwiY2FuU2tpcCIsImVuZCIsInNsaWNlIiwidGFrZSIsInRha2VXaGlsZSIsIndoZXJlIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLGlCQUFBQyxTQUFBLGlCQUFBQyxPQUNBQSxPQUFBRCxRQUFBRCxJQUNBLG1CQUFBRyxlQUFBQyxJQUNBRCxPQUFBLGdCQUFBSCxHQUNBLGlC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QUFJSSxFQUFJLEVBQUdBLEVBQUlKLEtBQUtzQyxXQUFXSSxPQUFRdEMsSUFDM0MsQ0FDSSxJQUFJMEQsRUFBTzlELEtBQUtzQyxXQUFXbEMsR0FJM0IsSUFBdUIsSUFGRG1DLEVBQUduQyxFQUFHMEQsRUFBTTlELEtBQUtzQyxZQVFuQyxNQUpBeUIsRUFBUUMsS0FBS0YsR0FRckIsT0FBT0MsRUFBUWpCLGlDQzdCRkMsRUFBUSxHQUVkUixHQUFHb0YsTUFBUSxTQUFTcEYsR0FPM0IsSUFMQSxJQUFJd0IsRUFBVSxHQUVWSCxFQUFTckIsUUFDVHNCLEVBQWdCRCxHQUF1QixtQkFBUHJCLEVBRTVCbkMsRUFBSSxFQUFHQSxFQUFJSixLQUFLc0MsV0FBV0ksT0FBUXRDLElBQzNDLENBQ0ksSUFBSTBELEVBQU85RCxLQUFLc0MsV0FBV2xDLEdBRXhCd0QsR0FBU0MsR0FBZ0J0QixFQUFHbkMsRUFBRzBELEVBQU05RCxLQUFLc0MsYUFFekN5QixFQUFRQyxLQUFLRixHQUlyQixPQUFPQyxFQUFRakIiLCJmaWxlIjoiZW51bWVyYWJsZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcImVudW1lcmFibGVcIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiZW51bWVyYWJsZVwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJlbnVtZXJhYmxlXCJdID0gZmFjdG9yeSgpO1xufSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImZ1bmN0aW9uIEVudW1lcmFibGUoX2FycmF5KVxyXG57XHJcbiAgICBpZihfYXJyYXkpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5jb2xsZWN0aW9uID0gX2FycmF5O1xyXG4gICAgfVxyXG4gICAgZWxzZVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuY29sbGVjdGlvbiA9IFtdO1xyXG4gICAgfVxyXG59XHJcblxyXG5FbnVtZXJhYmxlLmZuID0gRW51bWVyYWJsZS5wcm90b3R5cGU7XHJcblxyXG5FbnVtZXJhYmxlLmZuLnRvU3RyaW5nID0gZnVuY3Rpb24oKVxyXG57XHJcbiAgICB2YXIgc2VwYXJhdG9yID0gJyc7XHJcbiAgICB2YXIgcmVzdWx0ID0gJyc7XHJcblxyXG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuY29sbGVjdGlvbi5sZW5ndGg7IGkrKylcclxuICAgIHtcclxuICAgICAgICByZXN1bHQgKz0gc2VwYXJhdG9yICsgdGhpcy5jb2xsZWN0aW9uW2ldO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn07XHJcblxyXG5FbnVtZXJhYmxlLlJhbmdlID0gZnVuY3Rpb24oc3RhcnQsIGNvdW50KVxyXG57XHJcbiAgICB2YXIgcmVzdWx0ID0gW107XHJcblxyXG4gICAgZm9yKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspXHJcbiAgICB7XHJcbiAgICAgICAgcmVzdWx0W2ldID0gc3RhcnQgKyBpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHQuYXNFbnVtZXJhYmxlKCk7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEVudW1lcmFibGU7XHJcblxyXG5yZXF1aXJlKCcuL2RlcGVuZGVuY2llcycpO1xyXG4iLCJyZXF1aXJlKCcuL2V4dGVuc2lvbnMvYXJyYXknKTtcclxucmVxdWlyZSgnLi9leHRlbnNpb25zL29iamVjdCcpO1xyXG5yZXF1aXJlKCcuL2NvcmUvdG9BcnJheScpO1xyXG5yZXF1aXJlKCcuL2NvcmUvYW55Jyk7XHJcbnJlcXVpcmUoJy4vY29yZS9jb3VudCcpO1xyXG5yZXF1aXJlKCcuL2NvcmUvZmlyc3QnKTtcclxucmVxdWlyZSgnLi9jb3JlL2ZpcnN0T3JEZWZhdWx0Jyk7XHJcbnJlcXVpcmUoJy4vY29yZS9kcm9wRmlyc3QnKTtcclxucmVxdWlyZSgnLi9jb3JlL2Ryb3BMYXN0Jyk7XHJcbnJlcXVpcmUoJy4vY29yZS9sYXN0Jyk7XHJcbnJlcXVpcmUoJy4vY29yZS9sYXN0T3JEZWZhdWx0Jyk7XHJcbnJlcXVpcmUoJy4vY29yZS9zaHVmZmxlJyk7XHJcbnJlcXVpcmUoJy4vY29yZS9leGNlcHQnKTtcclxucmVxdWlyZSgnLi9jb3JlL21heGltdW0nKTtcclxucmVxdWlyZSgnLi9jb3JlL21pbmltdW0nKTtcclxucmVxdWlyZSgnLi9jb3JlL29yZGVyQnknKTtcclxucmVxdWlyZSgnLi9jb3JlL29yZGVyQnlEZXNjZW5kaW5nJyk7XHJcbnJlcXVpcmUoJy4vY29yZS9zZWxlY3QnKTtcclxucmVxdWlyZSgnLi9jb3JlL3NpbmdsZScpO1xyXG5yZXF1aXJlKCcuL2NvcmUvc2luZ2xlT3JEZWZhdWx0Jyk7XHJcbnJlcXVpcmUoJy4vY29yZS9za2lwJyk7XHJcbnJlcXVpcmUoJy4vY29yZS9za2lwV2hpbGUnKTtcclxucmVxdWlyZSgnLi9jb3JlL3Rha2UnKTtcclxucmVxdWlyZSgnLi9jb3JlL3Rha2VXaGlsZScpO1xyXG5yZXF1aXJlKCcuL2NvcmUvd2hlcmUnKTsiLCJ2YXIgRW51bWVyYWJsZSA9IHJlcXVpcmUoJy4uL2VudW1lcmFibGUnKTtcclxuXHJcbkFycmF5LnByb3RvdHlwZS5hc0VudW1lcmFibGUgPSBmdW5jdGlvbiAoKVxyXG57XHJcbiAgICB2YXIgZSA9IG5ldyBFbnVtZXJhYmxlKHRoaXMpO1xyXG5cclxuICAgIHJldHVybiBlO1xyXG59OyIsIk9iamVjdC5wcm90b3R5cGUuZ2V0VHlwZSA9IGZ1bmN0aW9uICgpXHJcbntcclxuICB2YXIgdHlwZVN0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0aGlzKTtcclxuXHJcbiAgaWYodHlwZVN0cmluZyA9PT0gJ1tvYmplY3QgRGF0ZV0nKVxyXG4gIHtcclxuICAgIHJldHVybiAnZGF0ZSc7XHJcbiAgfVxyXG4gIGVsc2UgaWYodHlwZVN0cmluZyA9PT0gJ1tvYmplY3QgU3RyaW5nXScpXHJcbiAge1xyXG4gICAgcmV0dXJuICdzdHJpbmcnO1xyXG4gIH1cclxuICBlbHNlIGlmKHR5cGVTdHJpbmcgPT09ICdbb2JqZWN0IE51bWJlcl0nKVxyXG4gIHtcclxuICAgIHJldHVybiAnbnVtYmVyJztcclxuICB9XHJcbiAgZWxzZSBpZih0eXBlU3RyaW5nID09PSAnW29iamVjdCBCb29sZWFuXScpXHJcbiAge1xyXG4gICAgcmV0dXJuICdib29sZWFuJztcclxuICB9XHJcbiAgZWxzZSBpZih0eXBlU3RyaW5nID09PSAnW29iamVjdCBBcnJheV0nKVxyXG4gIHtcclxuICAgIHJldHVybiAnYXJyYXknO1xyXG4gIH1cclxuICBlbHNlIGlmKHR5cGVTdHJpbmcgPT09ICdbb2JqZWN0IE9iamVjdF0nKVxyXG4gIHtcclxuICAgIHJldHVybiAnb2JqZWN0JztcclxuICB9XHJcbiAgZWxzZSBpZih0eXBlb2YgdGhpcyA9PT0gJ2Z1bmN0aW9uJylcclxuICB7XHJcbiAgICByZXR1cm4gJ2Z1bmN0aW9uJztcclxuICB9XHJcblxyXG4gIHJldHVybiB0eXBlU3RyaW5nO1xyXG59O1xyXG5cclxuT2JqZWN0LnByb3RvdHlwZS5pc0VxdWFsID0gZnVuY3Rpb24gKG9iamVjdDIsIG9yZGVyX21hdHRlcnMpXHJcbntcclxuICB2YXIga2V5czEgPSBPYmplY3Qua2V5cyh0aGlzKSxcclxuICAgIGtleXMyID0gT2JqZWN0LmtleXMob2JqZWN0MiksXHJcbiAgICBpLCBrZXk7XHJcblxyXG4gIC8vIFRlc3QgMTogU2FtZSBudW1iZXIgb2YgZWxlbWVudHNcclxuICBpZihrZXlzMS5sZW5ndGggIT09IGtleXMyLmxlbmd0aClcclxuICB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvLyBJZiBvcmRlciBkb2Vzbid0IG1hdHRlciBpc0VxdWFsKHthOjIsIGI6MX0sIHtiOjEsIGE6Mn0pIHNob3VsZCByZXR1cm4gdHJ1ZS5cclxuICAvLyBrZXlzMSA9IE9iamVjdC5rZXlzKHthOjIsIGI6MX0pID0gW1wiYVwiLFwiYlwiXTtcclxuICAvLyBrZXlzMiA9IE9iamVjdC5rZXlzKHtiOjEsIGE6Mn0pID0gW1wiYlwiLFwiYVwiXTtcclxuICAvLyBUaGlzIGlzIHdoeSB3ZSBhcmUgc29ydGluZyBrZXlzMSBhbmQga2V5czIuXHJcbiAgaWYoIW9yZGVyX21hdHRlcnMpXHJcbiAge1xyXG4gICAga2V5czEuc29ydCgpO1xyXG4gICAga2V5czIuc29ydCgpO1xyXG4gIH1cclxuXHJcbiAgLy8gVGVzdCAyOiBTYW1lIGtleXNcclxuICBmb3IoaSA9IDA7IGkgPCBrZXlzMS5sZW5ndGg7IGkrKylcclxuICB7XHJcbiAgICBpZihrZXlzMVtpXSAhPT0ga2V5czJbaV0pXHJcbiAgICB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFRlc3QgMzogVmFsdWVzXHJcbiAgZm9yKGkgPSAwOyBpIDwga2V5czEubGVuZ3RoOyBpKyspXHJcbiAge1xyXG4gICAga2V5ID0ga2V5czFbaV07XHJcbiAgICBpZih0aGlzW2tleV0gIT09IG9iamVjdDJba2V5XSlcclxuICAgIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRydWU7XHJcbn07IiwidmFyIEVudW1lcmFibGUgPSByZXF1aXJlKCcuLi9lbnVtZXJhYmxlJyk7XHJcblxyXG5FbnVtZXJhYmxlLmZuLnRvQXJyYXkgPSBmdW5jdGlvbigpXHJcbntcclxuICAgIHJldHVybiB0aGlzLmNvbGxlY3Rpb247XHJcbn07IiwidmFyIEVudW1lcmFibGUgPSByZXF1aXJlKCcuLi9lbnVtZXJhYmxlJyk7XHJcblxyXG5FbnVtZXJhYmxlLmZuLmFueSA9IGZ1bmN0aW9uKGZuKVxyXG57XHJcbiAgICB2YXIgaGFzRm4gPSAoZm4gIT09IG51bGwgJiYgZm4gIT09IHVuZGVmaW5lZCk7XHJcbiAgICB2YXIgRm5Jc0Z1bmN0aW9uID0gKGhhc0ZuICYmIHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyk7XHJcblxyXG4gICAgaWYoIWhhc0ZuKVxyXG4gICAge1xyXG4gICAgICAgIGlmKHRoaXMgIT09IG51bGwgJiYgdGhpcyAhPT0gdW5kZWZpbmVkICYmIHRoaXMuY29sbGVjdGlvbi5sZW5ndGggPiAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoOyBpKyspXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLmNvbGxlY3Rpb25baV07XHJcblxyXG4gICAgICAgIGlmKGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihoYXNGbiAmJiBGbklzRnVuY3Rpb24gJiYgZm4oaSwgaXRlbSwgdGhpcy5jb2xsZWN0aW9uKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn07IiwidmFyIEVudW1lcmFibGUgPSByZXF1aXJlKCcuLi9lbnVtZXJhYmxlJyk7XHJcblxyXG5FbnVtZXJhYmxlLmZuLmNvdW50ID0gZnVuY3Rpb24oZm4pXHJcbntcclxuICAgIHZhciBoYXNGbiA9IChmbiAhPT0gbnVsbCAmJiBmbiAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyk7XHJcblxyXG4gICAgaWYoaGFzRm4pXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuY29sbGVjdGlvbi5sZW5ndGg7IGkrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5jb2xsZWN0aW9uW2ldO1xyXG5cclxuICAgICAgICAgICAgaWYoZm4oaSwgaXRlbSwgdGhpcy5jb2xsZWN0aW9uKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0cy5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuY29sbGVjdGlvbi5sZW5ndGg7XHJcbn07IiwidmFyIEVudW1lcmFibGUgPSByZXF1aXJlKCcuLi9lbnVtZXJhYmxlJyk7XHJcblxyXG5FbnVtZXJhYmxlLmZuLmZpcnN0ID0gZnVuY3Rpb24oKVxyXG57XHJcbiAgICBpZih0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoID4gMClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb2xsZWN0aW9uWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIHRocm93IG5ldyBFcnJvcignc2VxdWVuY2UgY29udGFpbnMgbm8gZWxlbWVudHMnKTtcclxufTtcclxuIiwidmFyIEVudW1lcmFibGUgPSByZXF1aXJlKCcuLi9lbnVtZXJhYmxlJyk7XHJcblxyXG5FbnVtZXJhYmxlLmZuLmZpcnN0T3JEZWZhdWx0ID0gZnVuY3Rpb24oZm4pXHJcbntcclxuICAgIGlmKHRoaXMuY29sbGVjdGlvbi5sZW5ndGggPiAwKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxlY3Rpb25bMF07XHJcbiAgICB9XHJcblxyXG4gICAgaWYoZm4gIT09IG51bGwgJiYgZm4gIT09IHVuZGVmaW5lZClcclxuICAgIHtcclxuICAgICAgICBpZih0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gZm4oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmbjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbnVsbDtcclxufTsiLCJ2YXIgRW51bWVyYWJsZSA9IHJlcXVpcmUoJy4uL2VudW1lcmFibGUnKTtcclxuXHJcbkVudW1lcmFibGUuZm4uZHJvcEZpcnN0ID0gZnVuY3Rpb24oY291bnQpXHJcbntcclxuICAgIGlmKGNvdW50IDw9IDApXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBFbnVtZXJhYmxlKHRoaXMuY29sbGVjdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYodGhpcy5jb2xsZWN0aW9uLmxlbmd0aCA+IGNvdW50KVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBuZXcgRW51bWVyYWJsZSh0aGlzLmNvbGxlY3Rpb24uc3BsaWNlKHRoaXMuY29sbGVjdGlvbi5sZW5ndGggLSBjb3VudCwgY291bnQpKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3IEVudW1lcmFibGUoKTtcclxufTsiLCJ2YXIgRW51bWVyYWJsZSA9IHJlcXVpcmUoJy4uL2VudW1lcmFibGUnKTtcclxuXHJcbkVudW1lcmFibGUuZm4uZHJvcExhc3QgPSBmdW5jdGlvbihjb3VudClcclxue1xyXG4gICAgaWYoY291bnQgPD0gMClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gbmV3IEVudW1lcmFibGUodGhpcy5jb2xsZWN0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBpZih0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoID4gY291bnQpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBFbnVtZXJhYmxlKHRoaXMuY29sbGVjdGlvbi5zcGxpY2UoMCwgdGhpcy5jb2xsZWN0aW9uLmxlbmd0aCAtIGNvdW50KSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3IEVudW1lcmFibGUoKTtcclxufTsiLCJ2YXIgRW51bWVyYWJsZSA9IHJlcXVpcmUoJy4uL2VudW1lcmFibGUnKTtcclxuXHJcbkVudW1lcmFibGUuZm4ubGFzdCA9IGZ1bmN0aW9uKClcclxue1xyXG4gICAgaWYodGhpcy5jb2xsZWN0aW9uLmxlbmd0aCA+IDApXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdGlvblt0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoIC0gMV07XHJcbiAgICB9XHJcblxyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXF1ZW5jZSBjb250YWlucyBubyBlbGVtZW50cycpO1xyXG59OyIsInZhciBFbnVtZXJhYmxlID0gcmVxdWlyZSgnLi4vZW51bWVyYWJsZScpO1xyXG5cclxuRW51bWVyYWJsZS5mbi5sYXN0T3JEZWZhdWx0ID0gZnVuY3Rpb24oZm4pXHJcbntcclxuICAgIHZhciBoYXNGbiA9IChmbiAhPT0gbnVsbCAmJiBmbiAhPT0gdW5kZWZpbmVkKTtcclxuICAgIHZhciBGbklzRnVuY3Rpb24gPSAoaGFzRm4gJiYgdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKTtcclxuXHJcbiAgICBpZih0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoID4gMClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb2xsZWN0aW9uW3RoaXMuY29sbGVjdGlvbi5sZW5ndGggLSAxXTtcclxuICAgIH1cclxuXHJcbiAgICBpZihoYXNGbilcclxuICAgIHtcclxuICAgICAgICBpZihGbklzRnVuY3Rpb24pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gZm4oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmbjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbnVsbDtcclxufTsiLCJ2YXIgRW51bWVyYWJsZSA9IHJlcXVpcmUoJy4uL2VudW1lcmFibGUnKTtcclxuXHJcbkVudW1lcmFibGUuZm4uc2h1ZmZsZSA9IGZ1bmN0aW9uKClcclxue1xyXG4gICAgdmFyIGN1cnJlbnRJbmRleCA9IHRoaXMuY29sbGVjdGlvbi5sZW5ndGg7XHJcbiAgICB2YXIgdGVtcG9yYXJ5VmFsdWU7XHJcbiAgICB2YXIgcmFuZG9tSW5kZXg7XHJcblxyXG4gICAgd2hpbGUgKGN1cnJlbnRJbmRleCAhPT0gMClcclxuICAgIHtcclxuICAgICAgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjdXJyZW50SW5kZXgpO1xyXG4gICAgICBjdXJyZW50SW5kZXggLT0gMTtcclxuXHJcbiAgICAgIHRlbXBvcmFyeVZhbHVlID0gdGhpcy5jb2xsZWN0aW9uW2N1cnJlbnRJbmRleF07XHJcbiAgICAgIHRoaXMuY29sbGVjdGlvbltjdXJyZW50SW5kZXhdID0gdGhpcy5jb2xsZWN0aW9uW3JhbmRvbUluZGV4XTtcclxuICAgICAgdGhpcy5jb2xsZWN0aW9uW3JhbmRvbUluZGV4XSA9IHRlbXBvcmFyeVZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgRW51bWVyYWJsZSh0aGlzLmNvbGxlY3Rpb24pO1xyXG59OyIsInZhciBFbnVtZXJhYmxlID0gcmVxdWlyZSgnLi4vZW51bWVyYWJsZScpO1xyXG5cclxuRW51bWVyYWJsZS5mbi5leGNlcHQgPSBmdW5jdGlvbihhcnIsIGZuKVxyXG57XHJcbiAgICBpZih0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoIDw9IDApXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBFbnVtZXJhYmxlKHRoaXMuY29sbGVjdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoOyBpKyspXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLmNvbGxlY3Rpb25baV07XHJcblxyXG4gICAgICAgIHZhciBjb250YWlucyA9IGZhbHNlO1xyXG5cclxuICAgICAgICBmb3IodmFyIHggPSAwOyB4IDwgYXJyLmxlbmd0aDsgeCsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW0yID0gYXJyW3hdO1xyXG5cclxuICAgICAgICAgICAgaWYoZm4gJiYgZm4uZ2V0VHlwZSgpID09PSAnZnVuY3Rpb24nKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZihmbihpdGVtLCBpdGVtMikgPT09IHRydWUpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbnMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYoaXRlbTIuZ2V0VHlwZSgpID09PSAnb2JqZWN0JyAmJiBpdGVtLmdldFR5cGUoKSA9PT0gJ29iamVjdCcpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbTIuaXNFcXVhbChpdGVtKSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5zID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGl0ZW0yID09PSBpdGVtKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbnMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKGNvbnRhaW5zID09PSBmYWxzZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzdWx0LmFzRW51bWVyYWJsZSgpO1xyXG59O1xyXG4iLCJ2YXIgRW51bWVyYWJsZSA9IHJlcXVpcmUoJy4uL2VudW1lcmFibGUnKTtcclxuXHJcbkVudW1lcmFibGUuZm4ubWF4aW11bSA9IGZ1bmN0aW9uKClcclxue1xyXG4gICAgdmFyIHJlc3VsdCA9IG51bGw7XHJcblxyXG4gICAgZnVuY3Rpb24gaXNOdW1lcmljKHgpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuICh4ICE9PSBudWxsICYmIHguZ2V0VHlwZSgpID09PSAnbnVtYmVyJykgJiYgKHggJSAxID09PSAwKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgdGVtcCA9IFtdO1xyXG5cclxuICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoOyBpKyspXHJcbiAgICB7XHJcbiAgICAgICAgaWYoaXNOdW1lcmljKHRoaXMuY29sbGVjdGlvbltpXSkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0ZW1wLnB1c2godGhpcy5jb2xsZWN0aW9uW2ldKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYodGVtcC5sZW5ndGggPiAwKVxyXG4gICAge1xyXG4gICAgICAgIHJlc3VsdCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIHRlbXApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn07IiwidmFyIEVudW1lcmFibGUgPSByZXF1aXJlKCcuLi9lbnVtZXJhYmxlJyk7XHJcblxyXG5FbnVtZXJhYmxlLmZuLm1pbmltdW0gPSBmdW5jdGlvbigpXHJcbntcclxuICAgIHZhciByZXN1bHQgPSBudWxsO1xyXG5cclxuICAgIGZ1bmN0aW9uIGlzTnVtZXJpYyh4KVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiAoeCAhPT0gbnVsbCAmJiB4LmdldFR5cGUoKSA9PT0gJ251bWJlcicpICYmICh4ICUgMSA9PT0gMCk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHRlbXAgPSBbXTtcclxuXHJcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5jb2xsZWN0aW9uLmxlbmd0aDsgaSsrKVxyXG4gICAge1xyXG4gICAgICAgIGlmKGlzTnVtZXJpYyh0aGlzLmNvbGxlY3Rpb25baV0pKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGVtcC5wdXNoKHRoaXMuY29sbGVjdGlvbltpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmKHRlbXAubGVuZ3RoID4gMClcclxuICAgIHtcclxuICAgICAgICByZXN1bHQgPSBNYXRoLm1pbi5hcHBseShudWxsLCB0ZW1wKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59OyIsInZhciBFbnVtZXJhYmxlID0gcmVxdWlyZSgnLi4vZW51bWVyYWJsZScpO1xyXG5cclxuRW51bWVyYWJsZS5mbi5vcmRlckJ5ID0gZnVuY3Rpb24ocHJvcGVydHksIGZuKVxyXG57XHJcbiAgICBpZighdGhpcy5jb2xsZWN0aW9uKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0aGlzLmNvbGxlY3Rpb24pICE9PSAnW29iamVjdCBBcnJheV0nKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKHRoaXMuY29sbGVjdGlvbi5sZW5ndGggPT09IDApXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBFbnVtZXJhYmxlKFtdKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgaGFzRm4gPSAoZm4gJiYgdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKTtcclxuICAgIHZhciBoYXNQcm9wZXJ0eSA9IHByb3BlcnR5ICE9PSB1bmRlZmluZWQgJiYgcHJvcGVydHkgIT09IG51bGw7XHJcblxyXG4gICAgdmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgIHZhciB0ZW1wQXJyID0gdGhpcy5jb2xsZWN0aW9uO1xyXG5cclxuICAgIHZhciBpdGVtVHlwZSA9IChoYXNQcm9wZXJ0eSkgPyB0ZW1wQXJyWzBdW3Byb3BlcnR5XS5nZXRUeXBlKCkgOiB0ZW1wQXJyWzBdLmdldFR5cGUoKTtcclxuXHJcbiAgICBpZihoYXNGbilcclxuICAgIHtcclxuICAgICAgICB0ZW1wQXJyID0gW107XHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuY29sbGVjdGlvbi5sZW5ndGg7IGkrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciB2ID0gZm4odGhpcy5jb2xsZWN0aW9uW2ldKTtcclxuXHJcbiAgICAgICAgICAgIGlmKHYpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRlbXBBcnIucHVzaCh2KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZihpdGVtVHlwZSA9PT0gJ3N0cmluZycpXHJcbiAgICB7XHJcbiAgICAgICAgcmVzdWx0ID0gdGVtcEFyci5zb3J0KGZ1bmN0aW9uKGEsIGIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgcHJvcEFfVmFsdWUgPSAoaGFzUHJvcGVydHkpID8gYVtwcm9wZXJ0eV0udG9VcHBlckNhc2UoKSA6IGEudG9VcHBlckNhc2UoKTtcclxuICAgICAgICAgICAgdmFyIHByb3BCX1ZhbHVlID0gKGhhc1Byb3BlcnR5KSA/IGJbcHJvcGVydHldLnRvVXBwZXJDYXNlKCkgOiBiLnRvVXBwZXJDYXNlKCk7XHJcblxyXG4gICAgICAgICAgICBpZihwcm9wQV9WYWx1ZSA8IHByb3BCX1ZhbHVlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKHByb3BBX1ZhbHVlID4gcHJvcEJfVmFsdWUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYoaXRlbVR5cGUgPT09ICdudW1iZXInKVxyXG4gICAge1xyXG4gICAgICAgIHJlc3VsdCA9IHRlbXBBcnIuc29ydChmdW5jdGlvbihhLCBiKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYoaGFzUHJvcGVydHkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhW3Byb3BlcnR5XSAtIGJbcHJvcGVydHldO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gYSAtIGI7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKGl0ZW1UeXBlID09PSAnZGF0ZScpXHJcbiAgICB7XHJcbiAgICAgICAgcmVzdWx0ID0gdGVtcEFyci5zb3J0KGZ1bmN0aW9uKGEsIGIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZihoYXNQcm9wZXJ0eSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGFbcHJvcGVydHldKSAtIG5ldyBEYXRlKGJbcHJvcGVydHldKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGEpIC0gbmV3IERhdGUoYik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKGl0ZW1UeXBlID09PSAnYm9vbGVhbicpXHJcbiAgICB7XHJcbiAgICAgICAgcmVzdWx0ID0gdGVtcEFyci5zb3J0KGZ1bmN0aW9uKHgsIHkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyB0cnVlIHZhbHVlcyBmaXJzdFxyXG4gICAgICAgICAgICBpZih4ID09PSB5KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKHgpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKGl0ZW1UeXBlID09PSAnYXJyYXknKVxyXG4gICAge1xyXG4gICAgICAgIC8vIG5vdCBzdXBwb3J0ZWRcclxuICAgICAgICByZXN1bHQgPSB0aGlzLmNvbGxlY3Rpb247XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKGl0ZW1UeXBlID09PSAnb2JqZWN0JylcclxuICAgIHtcclxuICAgICAgICAvLyBub3Qgc3VwcG9ydGVkXHJcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5jb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHQuYXNFbnVtZXJhYmxlKCk7XHJcbn07IiwidmFyIEVudW1lcmFibGUgPSByZXF1aXJlKCcuLi9lbnVtZXJhYmxlJyk7XHJcblxyXG5FbnVtZXJhYmxlLmZuLm9yZGVyQnlEZXNjZW5kaW5nID0gZnVuY3Rpb24ocHJvcGVydHksIGZuKVxyXG57XHJcbiAgICBpZighdGhpcy5jb2xsZWN0aW9uKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0aGlzLmNvbGxlY3Rpb24pICE9PSAnW29iamVjdCBBcnJheV0nKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKHRoaXMuY29sbGVjdGlvbi5sZW5ndGggPT09IDApXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBFbnVtZXJhYmxlKFtdKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgaGFzRm4gPSAoZm4gJiYgdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKTtcclxuICAgIHZhciBoYXNQcm9wZXJ0eSA9IHByb3BlcnR5ICE9PSB1bmRlZmluZWQgJiYgcHJvcGVydHkgIT09IG51bGw7XHJcblxyXG4gICAgdmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgIHZhciB0ZW1wQXJyID0gdGhpcy5jb2xsZWN0aW9uO1xyXG5cclxuICAgIHZhciBpdGVtVHlwZSA9IChoYXNQcm9wZXJ0eSkgPyB0ZW1wQXJyWzBdW3Byb3BlcnR5XS5nZXRUeXBlKCkgOiB0ZW1wQXJyWzBdLmdldFR5cGUoKTtcclxuXHJcbiAgICBpZihoYXNGbilcclxuICAgIHtcclxuICAgICAgICB0ZW1wQXJyID0gW107XHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuY29sbGVjdGlvbi5sZW5ndGg7IGkrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciB2ID0gZm4odGhpcy5jb2xsZWN0aW9uW2ldKTtcclxuXHJcbiAgICAgICAgICAgIGlmKHYpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRlbXBBcnIucHVzaCh2KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZihpdGVtVHlwZSA9PT0gJ3N0cmluZycpXHJcbiAgICB7XHJcbiAgICAgICAgcmVzdWx0ID0gdGVtcEFyci5zb3J0KGZ1bmN0aW9uKGEsIGIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgcHJvcEFfVmFsdWUgPSAoaGFzUHJvcGVydHkpID8gYVtwcm9wZXJ0eV0udG9VcHBlckNhc2UoKSA6IGEudG9VcHBlckNhc2UoKTtcclxuICAgICAgICAgICAgdmFyIHByb3BCX1ZhbHVlID0gKGhhc1Byb3BlcnR5KSA/IGJbcHJvcGVydHldLnRvVXBwZXJDYXNlKCkgOiBiLnRvVXBwZXJDYXNlKCk7XHJcblxyXG4gICAgICAgICAgICBpZihwcm9wQV9WYWx1ZSA8IHByb3BCX1ZhbHVlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYocHJvcEFfVmFsdWUgPiBwcm9wQl9WYWx1ZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYoaXRlbVR5cGUgPT09ICdudW1iZXInKVxyXG4gICAge1xyXG4gICAgICAgIHJlc3VsdCA9IHRlbXBBcnIuc29ydChmdW5jdGlvbihhLCBiKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYoaGFzUHJvcGVydHkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBiW3Byb3BlcnR5XSAtIGFbcHJvcGVydHldO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gYiAtIGE7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKGl0ZW1UeXBlID09PSAnZGF0ZScpXHJcbiAgICB7XHJcbiAgICAgICAgcmVzdWx0ID0gdGVtcEFyci5zb3J0KGZ1bmN0aW9uKGEsIGIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZihoYXNQcm9wZXJ0eSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGJbcHJvcGVydHldKSAtIG5ldyBEYXRlKGFbcHJvcGVydHldKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGIpIC0gbmV3IERhdGUoYSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKGl0ZW1UeXBlID09PSAnYm9vbGVhbicpXHJcbiAgICB7XHJcbiAgICAgICAgcmVzdWx0ID0gdGVtcEFyci5zb3J0KGZ1bmN0aW9uKHgsIHkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyB0cnVlIHZhbHVlcyBmaXJzdFxyXG4gICAgICAgICAgICBpZih4ID09PSB5KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKHgpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKGl0ZW1UeXBlID09PSAnYXJyYXknKVxyXG4gICAge1xyXG4gICAgICAgIC8vIG5vdCBzdXBwb3J0ZWRcclxuICAgICAgICByZXN1bHQgPSB0aGlzLmNvbGxlY3Rpb247XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKGl0ZW1UeXBlID09PSAnb2JqZWN0JylcclxuICAgIHtcclxuICAgICAgICAvLyBub3Qgc3VwcG9ydGVkXHJcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5jb2xsZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHQuYXNFbnVtZXJhYmxlKCk7XHJcbn07IiwidmFyIEVudW1lcmFibGUgPSByZXF1aXJlKCcuLi9lbnVtZXJhYmxlJyk7XHJcblxyXG5FbnVtZXJhYmxlLmZuLnNlbGVjdCA9IGZ1bmN0aW9uKG9iailcclxue1xyXG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcclxuXHJcbiAgICBmdW5jdGlvbiBleHBsaWNpdChpdGVtLCBvYmopXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIF90ZW1wID0ge307XHJcblxyXG4gICAgICAgIGlmKG9iai5sZW5ndGggPT09IDEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBmb3IodmFyIHAgaW4gaXRlbSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYocCA9PT0gb2JqWzBdKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIF90ZW1wID0gaXRlbVtwXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBmb3IodmFyIHggPSAwOyB4IDwgb2JqLmxlbmd0aDsgeCsrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvcCA9IG9ialt4XTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIF9wIGluIGl0ZW0pXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoX3AgPT09IHByb3ApXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGVtcFtwcm9wXSA9IGl0ZW1bX3BdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVzdWx0cy5wdXNoKF90ZW1wKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBmdW5jRXZhbChvYmosIGksIGl0ZW0sIGNvbClcclxuICAgIHtcclxuICAgICAgICByZXN1bHRzLnB1c2gob2JqKGksIGl0ZW0sIGNvbCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoOyBpKyspXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLmNvbGxlY3Rpb25baV07XHJcblxyXG4gICAgICAgIGlmKG9iaiAhPT0gbnVsbCAmJiBvYmogIT09IHVuZGVmaW5lZCAmJiBvYmoubGVuZ3RoID4gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKG9iai5nZXRUeXBlKCkgPT09ICdmdW5jdGlvbicpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGZ1bmNFdmFsKG9iaiwgaSwgaXRlbSwgdGhpcy5jb2xsZWN0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGV4cGxpY2l0KGl0ZW0sIG9iaik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzdWx0cy5hc0VudW1lcmFibGUoKTtcclxufTsiLCJ2YXIgRW51bWVyYWJsZSA9IHJlcXVpcmUoJy4uL2VudW1lcmFibGUnKTtcclxuXHJcbkVudW1lcmFibGUuZm4uc2luZ2xlID0gZnVuY3Rpb24oKVxyXG57XHJcbiAgICBpZih0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoID09PSAxKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxlY3Rpb25bMF07XHJcbiAgICB9XHJcblxyXG4gICAgaWYodGhpcy5jb2xsZWN0aW9uLmxlbmd0aCA8IDEpXHJcbiAgICB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZXF1ZW5jZSBjb250YWlucyBubyBlbGVtZW50cycpO1xyXG4gICAgfVxyXG4gICAgZWxzZVxyXG4gICAge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY29sbGVjdGlvbiBjb250YWlucyBtb3JlIHRoYW4gb25lIGl0ZW0nKTtcclxuICAgIH1cclxufTsiLCJ2YXIgRW51bWVyYWJsZSA9IHJlcXVpcmUoJy4uL2VudW1lcmFibGUnKTtcclxuXHJcbkVudW1lcmFibGUuZm4uc2luZ2xlT3JEZWZhdWx0ID0gZnVuY3Rpb24oZm4pXHJcbntcclxuICAgIHZhciBoYXNGbiA9IChmbiAhPT0gbnVsbCAmJiBmbiAhPT0gdW5kZWZpbmVkKTtcclxuICAgIHZhciBGbklzRnVuY3Rpb24gPSAoaGFzRm4gJiYgdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKTtcclxuXHJcbiAgICBpZih0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoID09PSAxKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxlY3Rpb25bMF07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKHRoaXMubGVuZ3RoID4gMSlcclxuICAgIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbGxlY3Rpb24gY29udGFpbnMgbW9yZSB0aGFuIG9uZSBpdGVtJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYoaGFzRm4pXHJcbiAgICB7XHJcbiAgICAgICAgaWYoRm5Jc0Z1bmN0aW9uKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZuKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmbjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbnVsbDtcclxufTtcclxuIiwidmFyIEVudW1lcmFibGUgPSByZXF1aXJlKCcuLi9lbnVtZXJhYmxlJyk7XHJcblxyXG5FbnVtZXJhYmxlLmZuLnNraXAgPSBmdW5jdGlvbihjb3VudClcclxue1xyXG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcclxuXHJcbiAgICB2YXIgaGFzSXRlbXMgPSAoY291bnQgPiAwKTtcclxuICAgIHZhciB2YWxpZFNraXBDb3VudCA9IChjb3VudCA8IHRoaXMuY29sbGVjdGlvbi5sZW5ndGgpO1xyXG5cclxuICAgIHZhciBjYW5Ta2lwID0gKGhhc0l0ZW1zICYmIHZhbGlkU2tpcENvdW50KTtcclxuXHJcbiAgICBpZihjYW5Ta2lwKVxyXG4gICAge1xyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoOyBpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZihpIDwgY291bnQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXN1bHRzLnB1c2godGhpcy5jb2xsZWN0aW9uW2ldKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdHMuYXNFbnVtZXJhYmxlKCk7XHJcbn07IiwidmFyIEVudW1lcmFibGUgPSByZXF1aXJlKCcuLi9lbnVtZXJhYmxlJyk7XHJcblxyXG5FbnVtZXJhYmxlLmZuLnNraXBXaGlsZSA9IGZ1bmN0aW9uKGZuKVxyXG57XHJcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xyXG4gICAgdmFyIGhhc0ZuID0gKGZuICE9PSBudWxsICYmIGZuICE9PSB1bmRlZmluZWQpO1xyXG4gICAgdmFyIEZuSXNGdW5jdGlvbiA9IChoYXNGbiAmJiB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpO1xyXG4gICAgdmFyIGNhblNraXAgPSAoaGFzRm4gJiYgRm5Jc0Z1bmN0aW9uKTtcclxuICAgIHZhciBoYXNJdGVtcyA9IHRoaXMuY29sbGVjdGlvbi5sZW5ndGggPiAwO1xyXG5cclxuICAgIGlmKCFoYXNGbiB8fCAhRm5Jc0Z1bmN0aW9uKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKGNhblNraXAgJiYgaGFzSXRlbXMpXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGVuZCA9IHRoaXMuY29sbGVjdGlvbi5sZW5ndGg7XHJcblxyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoOyBpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXMuY29sbGVjdGlvbltpXTtcclxuICAgICAgICAgICAgdmFyIF9jYWxsYmFja1Jlc3VsdCA9IGZuKGksIGl0ZW0sIHRoaXMuY29sbGVjdGlvbik7XHJcblxyXG4gICAgICAgICAgICBpZihfY2FsbGJhY2tSZXN1bHQgPT09IHRydWUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdGlvbi5zbGljZShpLCBlbmQpLmFzRW51bWVyYWJsZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHRzLmFzRW51bWVyYWJsZSgpO1xyXG59OyIsInZhciBFbnVtZXJhYmxlID0gcmVxdWlyZSgnLi4vZW51bWVyYWJsZScpO1xyXG5cclxuRW51bWVyYWJsZS5mbi50YWtlID0gZnVuY3Rpb24oY291bnQpXHJcbntcclxuICAgIGlmKHRoaXMuY29sbGVjdGlvbi5sZW5ndGggPT09IDApXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgaWYodGhpcy5jb2xsZWN0aW9uLmxlbmd0aCA+IGNvdW50KVxyXG4gICAge1xyXG4gICAgICAgIHZhciByZXN1bHRzID0gW107XHJcblxyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHRoaXMuY29sbGVjdGlvbltpXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0cy5hc0VudW1lcmFibGUoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxufTsiLCJ2YXIgRW51bWVyYWJsZSA9IHJlcXVpcmUoJy4uL2VudW1lcmFibGUnKTtcclxuXHJcbkVudW1lcmFibGUuZm4udGFrZVdoaWxlID0gZnVuY3Rpb24oZm4pXHJcbntcclxuICAgIHZhciByZXN1bHRzID0gW107XHJcblxyXG4gICAgdmFyIGhhc0ZuID0gKGZuICE9PSBudWxsICYmIGZuICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKTtcclxuXHJcbiAgICBpZighaGFzRm4pXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuY29sbGVjdGlvbi5sZW5ndGg7IGkrKylcclxuICAgIHtcclxuICAgICAgICB2YXIgaXRlbSA9IHRoaXMuY29sbGVjdGlvbltpXTtcclxuXHJcbiAgICAgICAgdmFyIF9jYWxsYmFja1Jlc3VsdCA9IGZuKGksIGl0ZW0sIHRoaXMuY29sbGVjdGlvbik7XHJcblxyXG4gICAgICAgIGlmKF9jYWxsYmFja1Jlc3VsdCA9PT0gdHJ1ZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChpdGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHRzLmFzRW51bWVyYWJsZSgpO1xyXG59OyIsInZhciBFbnVtZXJhYmxlID0gcmVxdWlyZSgnLi4vZW51bWVyYWJsZScpO1xyXG5cclxuRW51bWVyYWJsZS5mbi53aGVyZSA9IGZ1bmN0aW9uKGZuKVxyXG57XHJcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xyXG5cclxuICAgIHZhciBoYXNGbiA9IChmbiAhPT0gbnVsbCAmJiBmbiAhPT0gdW5kZWZpbmVkKTtcclxuICAgIHZhciBGbklzRnVuY3Rpb24gPSAoaGFzRm4gJiYgdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKTtcclxuXHJcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5jb2xsZWN0aW9uLmxlbmd0aDsgaSsrKVxyXG4gICAge1xyXG4gICAgICAgIHZhciBpdGVtID0gdGhpcy5jb2xsZWN0aW9uW2ldO1xyXG5cclxuICAgICAgICBpZihoYXNGbiAmJiBGbklzRnVuY3Rpb24gJiYgZm4oaSwgaXRlbSwgdGhpcy5jb2xsZWN0aW9uKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChpdGVtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdHMuYXNFbnVtZXJhYmxlKCk7XHJcbn07Il0sInNvdXJjZVJvb3QiOiIifQ==
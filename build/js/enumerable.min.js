!function(t,n){"object"==typeof exports?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t)}(this,function(t){Array.prototype.asEnumerable=function(){return new n(this)};var n=function(){function t(t){this.collection=t}return t.prototype.toArray=function(){return this.collection},t.prototype.where=function(t){for(var n=[],o=0;o<this.collection.length;o++){var e=this.collection[o];null!==t&&void 0!==t&&t(o,e,this.collection)&&n.push(e)}return n.asEnumerable()},t.prototype.select=function(t){for(var n=[],o=0;o<this.collection.length;o++){var e=this.collection[o];if(null!==t&&void 0!==t&&t.length>0){for(var i={},l=0;l<t.length;l++){var r=t[l];for(var c in e)c===r&&(i[r]=e[c])}n.push(i)}else n.push(e)}return n.asEnumerable()},t.prototype.minimum=function(){for(var t=null,n=[],o=0;o<this.collection.length;o++)(function(t){return"number"==typeof t&&t%1==0})(this.collection[o])&&n.push(this.collection[o]);return n.length>0&&(t=Math.min.apply(null,n)),t},t.prototype.maximum=function(){for(var t=null,n=[],o=0;o<this.collection.length;o++)(function(t){return"number"==typeof t&&t%1==0})(this.collection[o])&&n.push(this.collection[o]);return n.length>0&&(t=Math.max.apply(null,n)),t},t.prototype.first=function(){if(this.collection.length>0)return this.collection[0];throw"sequence contains no elements"},t.prototype.firstOrDefault=function(t){return this.collection.length>0?this.collection[0]:null!==t&&void 0!==t?"function"==typeof t?t():t:null},t.prototype.last=function(){if(this.collection.length>0)return this.collection[this.collection.length-1];throw"sequence contains no elements"},t.prototype.lastOrDefault=function(t){return this.collection.length>0?this.collection[this.collection.length-1]:null!==t&&void 0!==t?"function"==typeof t?t():t:null},t.prototype.single=function(){if(1==this.collection.length)return this.collection[0];throw this.collection.length<1?"sequence contains no elements":"collection contains more than one item"},t.prototype.singleOrDefault=function(t){if(1==this.collection.length)return this.collection[0];if(this.length>1)throw"collection contains more than one item";return null!==t&&void 0!==t?"function"==typeof t?t():t:null},t.prototype.take=function(t){if(0==this.collection.length)return this;if(this.collection.length>t){for(var n=[],o=0;o<t;o++)n.push(this.collection[o]);return n.asEnumerable()}return this},t.prototype.any=function(t){for(var n=0;n<this.collection.length;n++){var o=this.collection[n];if(null!==o&&void 0!==o){if(null!==t&&void 0!==t&&t(n,o,this.collection))return!0;if((null===t||void 0===t)&&null!==this&&void 0!==this&&this.collection.length>0)return!0}}return!1},t.prototype.takeWhile=function(t){for(var n=[],o=0;o<this.collection.length;o++){if(!0!==t(o,this.collection[o],this.collection))return n.asEnumerable();n.push(this.collection[o])}return n.asEnumerable()},t.prototype.skip=function(t){var n=[];if(t>0&&t<this.collection.length)for(var o=t-1;o<t;o++)n.push(this.collection[o]);return n.asEnumerable()},t.prototype.skipWhile=function(t){var n=[];if(null!==t&&void 0!==t&&"function"==typeof t)for(var o=0;o<this.collection.length;o++)!0!==t(o,this.collection[o],this.collection)&&n.push(this.collection[o]);return n.asEnumerable()},t.prototype.count=function(){return this.collection.length},t.prototype.orderBy=function(t,o){if(!this.collection)return null;if("[object Array]"!=Object.prototype.toString.call(this.collection))return null;if(0==this.collection.length)return new n([]);var e=o&&"function"==typeof o,i=!!t,l=[],r="string",c=this.collection;if(r=i?typeof c[0][t]:typeof c[0],e){c=[];for(var u=0;u<this.collection.length;u++){var s=o(this.collection[u]);s&&c.push(s)}}return"string"==r?l=c.sort(function(n,o){var e=i?n[t].toUpperCase():n.toUpperCase(),l=i?o[t].toUpperCase():o.toUpperCase();return e<l?-1:e>l?1:0}):"number"==r?l=c.sort(function(n,o){return i?n[t]-o[t]:n-o}):"array"==r?l=this.collection:"object"==r&&(l=this.collection),l.asEnumerable()},t.prototype.orderByDescending=function(t,o){if(!this.collection)return null;if("[object Array]"!=Object.prototype.toString.call(this.collection))return null;if(0==this.collection.length)return new n([]);var e=o&&"function"==typeof o,i=!!t,l=[],r="string",c=this.collection;if(r=i?typeof c[0][t]:typeof c[0],e){c=[];for(var u=0;u<this.collection.length;u++){var s=o(this.collection[u]);s&&c.push(s)}}return"string"==r?l=c.sort(function(n,o){var e=i?n[t].toUpperCase():n.toUpperCase(),l=i?o[t].toUpperCase():o.toUpperCase();return e<l?1:e>l?-1:0}):"number"==r?l=c.sort(function(n,o){return i?o[t]-n[t]:o-n}):"array"==r?l=this.collection:"object"==r&&(l=this.collection),l.asEnumerable()},t}();return t.Enumerable=n,n});
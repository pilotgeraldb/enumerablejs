!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.Enumerable=e()}(this,function(){Array.prototype.asEnumerable=function(){return new t(this)};var t=function(){function e(t){this.collection=t||[]}return e.fn=e.prototype,e.prototype.toArray=function(){return this.collection},e.prototype.select=function(t){for(var e=[],n=0;n<this.collection.length;n++){var o=this.collection[n];if(null!==t&&void 0!==t&&t.length>0){for(var l={},i=0;i<t.length;i++){var r=t[i];for(var c in o)c===r&&(l[r]=o[c])}e.push(l)}else e.push(o)}return e.asEnumerable()},e.prototype.minimum=function(){for(var t=null,e=[],n=0;n<this.collection.length;n++)(function(t){return"number"==typeof t&&t%1==0})(this.collection[n])&&e.push(this.collection[n]);return e.length>0&&(t=Math.min.apply(null,e)),t},e.prototype.maximum=function(){for(var t=null,e=[],n=0;n<this.collection.length;n++)(function(t){return"number"==typeof t&&t%1==0})(this.collection[n])&&e.push(this.collection[n]);return e.length>0&&(t=Math.max.apply(null,e)),t},e.prototype.first=function(){if(this.collection.length>0)return this.collection[0];throw"sequence contains no elements"},e.prototype.firstOrDefault=function(t){return this.collection.length>0?this.collection[0]:null!==t&&void 0!==t?"function"==typeof t?t():t:null},e.prototype.last=function(){if(this.collection.length>0)return this.collection[this.collection.length-1];throw"sequence contains no elements"},e.prototype.lastOrDefault=function(t){return this.collection.length>0?this.collection[this.collection.length-1]:null!==t&&void 0!==t?"function"==typeof t?t():t:null},e.prototype.single=function(){if(1==this.collection.length)return this.collection[0];throw this.collection.length<1?"sequence contains no elements":"collection contains more than one item"},e.prototype.singleOrDefault=function(t){if(1==this.collection.length)return this.collection[0];if(this.length>1)throw"collection contains more than one item";return null!==t&&void 0!==t?"function"==typeof t?t():t:null},e.prototype.take=function(t){if(0==this.collection.length)return this;if(this.collection.length>t){for(var e=[],n=0;n<t;n++)e.push(this.collection[n]);return e.asEnumerable()}return this},e.prototype.any=function(t){for(var e=0;e<this.collection.length;e++){var n=this.collection[e];if(null!==n&&void 0!==n){if(null!==t&&void 0!==t&&t(e,n,this.collection))return!0;if((null===t||void 0===t)&&null!==this&&void 0!==this&&this.collection.length>0)return!0}}return!1},e.prototype.takeWhile=function(t){for(var e=[],n=0;n<this.collection.length;n++){if(!0!==t(n,this.collection[n],this.collection))return e.asEnumerable();e.push(this.collection[n])}return e.asEnumerable()},e.prototype.skip=function(t){var e=[];if(t>0&&t<this.collection.length)for(var n=t-1;n<t;n++)e.push(this.collection[n]);return e.asEnumerable()},e.prototype.skipWhile=function(t){var e=[];if(null!==t&&void 0!==t&&"function"==typeof t)for(var n=0;n<this.collection.length;n++)!0!==t(n,this.collection[n],this.collection)&&e.push(this.collection[n]);return e.asEnumerable()},e.prototype.count=function(t){if(null!==t&&void 0!==t&&"function"==typeof t){for(var e=[],n=0;n<this.collection.length;n++){var o=this.collection[n];t(n,o,this.collection)&&e.push(o)}return e.length}return this.collection.length},e.prototype.orderBy=function(e,n){if(!this.collection)return null;if("[object Array]"!=Object.prototype.toString.call(this.collection))return null;if(0==this.collection.length)return new t([]);var o=n&&"function"==typeof n,l=!!e,i=[],r="string",c=this.collection;if(r=l?"[object Date]"===Object.prototype.toString.call(c[0][e])?"date":typeof c[0][e]:"[object Date]"===Object.prototype.toString.call(c[0])?"date":typeof c[0],o){c=[];for(var u=0;u<this.collection.length;u++){var s=n(this.collection[u]);s&&c.push(s)}}return"string"==r?i=c.sort(function(t,n){var o=l?t[e].toUpperCase():t.toUpperCase(),i=l?n[e].toUpperCase():n.toUpperCase();return o<i?-1:o>i?1:0}):"number"==r?i=c.sort(function(t,n){return l?t[e]-n[e]:t-n}):"date"==r?i=c.sort(function(t,n){return l?new Date(t[e])-new Date(n[e]):new Date(t)-new Date(n)}):"boolean"==r?i=c.sort(function(t,e){return t===e?0:t?1:-1}):"array"==r?i=this.collection:"object"==r&&(i=this.collection),i.asEnumerable()},e.prototype.orderByDescending=function(e,n){if(!this.collection)return null;if("[object Array]"!=Object.prototype.toString.call(this.collection))return null;if(0==this.collection.length)return new t([]);var o=n&&"function"==typeof n,l=!!e,i=[],r="string",c=this.collection;if(r=l?"[object Date]"===Object.prototype.toString.call(c[0][e])?"date":typeof c[0][e]:"[object Date]"===Object.prototype.toString.call(c[0])?"date":typeof c[0],o){c=[];for(var u=0;u<this.collection.length;u++){var s=n(this.collection[u]);s&&c.push(s)}}return"string"==r?i=c.sort(function(t,n){var o=l?t[e].toUpperCase():t.toUpperCase(),i=l?n[e].toUpperCase():n.toUpperCase();return o<i?1:o>i?-1:0}):"number"==r?i=c.sort(function(t,n){return l?n[e]-t[e]:n-t}):"date"==r?i=c.sort(function(t,n){return l?new Date(n[e])-new Date(t[e]):new Date(n)-new Date(t)}):"boolean"==r?i=c.sort(function(t,e){return t===e?0:t?-1:1}):"array"==r?i=this.collection:"object"==r&&(i=this.collection),i.asEnumerable()},e}();return t}),function(t,e){"function"==typeof define&&define.amd?define(["../enumerable"],function(n){return t.Enumerable=e(n)}):"object"==typeof module&&module.exports?module.exports=e(require("../enumerable")):t.Enumerable=e(t.Enumerable)}(this,function(t){t.fn.where=function(t){for(var e=[],n=0;n<this.collection.length;n++){var o=this.collection[n];null!==t&&void 0!==t&&t(n,o,this.collection)&&e.push(o)}return e.asEnumerable()}});